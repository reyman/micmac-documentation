= gestion des départs

== update-world

.Arguments de la fonction
[options="header"]
|===
| argument de la fonction |signification
| #cumulated-pop-flight-expected-float| population cumulée
| #instantaneous-total-population-to-fly | population autorisé à voler 
| #airplane-size | taille de l'avion 
|===

Première partie, on calcule au niveau des noeud la population qui va être autorisé à voler.


[source,java]
----
    ask nodes  
    [ \\ <1>
      let my-instantaneous-total-population-to-fly #instantaneous-total-population-to-fly / number-nodes
      set stock-to-flight stock-to-flight + my-instantaneous-total-population-to-fly
      set #cumulated-pop-flight-expected-float #cumulated-pop-flight-expected-float + my-instantaneous-total-population-to-fly
    ]
    
    ask nodes  
    [
      set stock-to-flight stock-to-flight
    ]
----


<1> Le premier bloc
